//- * * * * * * * *
//- * * Layout  * *
//- * * * * * * * *

//- The page layout is set using the Pug `extends` directive with a path to a layout template
//- All of the layout options are contained in src/pug/layouts
extends ../../layouts/dashboard.pug

//- * * * * * * * *
//- * * Config  * *
//- * * * * * * * *

//- These are page-level configuration options that should be set for each page
block config
    - var navPosition = 'nav-fixed'
    - var pageTitle = '공지사항'

//- * * * * * * * *
//- * * Topnav  * *
//- * * * * * * * *

//- Define the `block topnav` from the layout
block topnav

    //- Bring in the sidenav mixin and configure
    //- For all available config options for this mixin, visit https://docs.startbootstrap.com/sb-admin-pro/
    include ../mixins/topnav.pug
    +topnav({
        topnavStyle: 'navbar-light bg-white'
    })

//- * * * * * * * *
//- * * Sidenav * *
//- * * * * * * * *

//- Define the `block sidenav` from the layout
//- Note: The chosen page layout must have a `block sidenav` or no sidenav will appear
block sidenav

    //- Bring in the sidenav mixin and configure
    //- For all available config options for this mixin, visit https://docs.startbootstrap.com/sb-admin-pro/
    include ../mixins/sidenav-proj.pug
    +sidenav({
        sidenavStyle: 'sidenav-dark',
        user: user.NAME,
        pid: pid
    })

//- * * * * * * * * * * *
//- * * Page Content  * *
//- * * * * * * * * * * *

//- Define the main `block content` from the layout
block content

    //- Bring in the page header mixin and configure
    //- For all available config options for this mixin, visit https://docs.startbootstrap.com/sb-admin-pro/
    include ../mixins/headers/header-default.pug
    +header({
        pageHeaderStyle: 'page-header-dark',
        pageHeaderBg: 'bg-gradient-primary-to-secondary',
        pageHeaderSpacing: 'mb-4',
        pageHeaderContainer: 'container',
        pageSubtitle: 'What are you looking for? Our knowledge base is here to help.',
        pageIcon: 'life-buoy',
        breadcrumbs: false
        })

        
        button.btn.btn-light.btn-sm(type='button', data-toggle='modal', data-target='#noticeCreate') 새로운 공지사항 등록

    // Main page content
    .container

        // Knowledge base category
        h2.mb-0.mt-5 공지사항
        hr.mt-2.mb-4

        if notices.length != 0
            each notice in notices
                .card.card-icon.lift.lift-sm.mb-4(href='/project/notices/detail?nid='+'#{notice.ID}')
                    .card-body
                        .d-flex.align-items-center.justify-content-between
                            .h5.card-title.mb-0 #{notice.TITLE}
                            i.flex-shrink-0.ml-4(data-feather='chevron-right')
        else   
            p 등록된 공지사항이 없습니다.

    #noticeCreate.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalScrollableTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-scrollable(role='document')
            .modal-content
                .modal-header
                    h5#exampleModalScrollableTitle.modal-title 공지사항 작성
                    button.close(type='button', data-dismiss='modal', aria-label='Close')
                        span(aria-hidden='true') ×
                .modal-body
                    form(method="POST")
                        hr
                        .row
                            .form-group.col-md-6
                                label(for='noticeTitle').small.mb-1 제목
                                input#title.form-control(type='text', name='title')
                        .row    
                            .form-group.col-md-10
                                label(for='noticeContent').small.mb-1 내용
                                textarea#content.form-control(name='content', placeholder='')
                .modal-footer
                    button.btn.btn-secondary(type='button', data-dismiss='modal') Close
                    button.btn.btn-primary(type='submit') 생성하기 
//- * * * * * * * *
//- * * Footer  * *
//- * * * * * * * *

//- Define the `block footer` from the layout
block footer

    //- Bring in the footer mixin and configure
    //- For all available config options for this mixin, visit https://docs.startbootstrap.co/sb-admin-pro/
    include ../mixins/footer.pug
    +footer({
        footerStyle: 'footer-light'
    })